# NoSQL

## 通用的数据结构

以 查询 更新 删除 操作为例

### 极端型

某些操作为 O(1), 其他的操作为 O(N), 如有序链表

### 平衡性

主要操作为 O(logN) , 比如平衡二叉树/B 树及各种变种

### 取巧型

特指 哈希表 , 基本都能在常数时间完成, 但是 Hash 没有 **范围查询功能**

## 工程实践

### B 树

同时适应磁盘和内存

### Hash 数据结构

简单, 高效

不支持范围查询, 不支持对整个数据结构执行瞬时的快照操作

## Key-Value 系统

普通的 Key-Value 系统可以认为是一个分布式 Hash 表

Hash 算法有两种:
- 模 N (N 为机器数) Hash
  - 缺点: 机器上下线时, 机器数变化导致所有数据都需要重新分布
- 一致性 Hash -- 先将数据通过 Hash 算法分为若干桶
