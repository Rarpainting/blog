# Lock In MySQL

## 锁级别

### 表级锁

- 开销小, 加锁快
- 不会出现死锁
- 锁定**颗粒大**, 锁冲突**概率高**, 并发低

### 行级锁

- 开销大, 加锁慢
- 可能出现死锁
- 锁定**颗粒小**, 锁冲突**概率低**, 并发高

### 页面锁

- 开销和加锁时间都在 表级锁 和 行级锁 之间
- 可能出现死锁
- 锁定颗粒在于表锁和行锁之间

## 具体算法

### Next KeyLock

锁数据 + 锁 Gap

### Gap 锁(间隙锁)

锁 Gap

### RecordLock

锁数据


## 乐观锁

- 简单: 版本号 + 重试方式
